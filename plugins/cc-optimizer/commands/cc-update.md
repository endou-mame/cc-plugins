---
description: 既存の Claude Code 設定をプロジェクトの現状に合わせて更新（新しいフレームワーク検出、コマンド変更の反映など）
argument-hint: "[path/to/project]"
---

# Claude Code 設定更新

cc-optimizer スキルを使用してプロジェクトを再分析し、既存の Claude Code 設定を更新する。

## 実行方法

1. cc-optimizer スキルを呼び出す:
   - `skill: "cc-optimizer:cc-optimizer"`

2. スキルの「更新モード」を使用して以下を実行:
   - 既存設定の読み込み
   - 現在のプロジェクト状態との比較
   - 差分の特定
   - カスタマイズを保持しつつ更新を提案
   - ユーザー確認後にマージ

## 対象パス

- 引数でパスが指定された場合: 指定されたパスを対象とする
- 引数がない場合: 現在の作業ディレクトリを対象とする

## 更新判断ロジック

以下の変更を検出して更新を提案する。

### 検出対象

- 新しい言語/フレームワークの追加
- package.json scripts の変更
- ディレクトリ構造の変化
- テストフレームワークの追加/削除
- lint/format 設定の変更

### 保持対象

- ユーザーが手動で追加したカスタマイズ
- プロジェクト固有の説明文
- 独自のエージェント/スキル定義
- カスタムコマンド

## 出力形式

更新提案をユーザーに提示する。

```
検出された変更:
- [追加] Vitest テストフレームワーク
- [変更] lint コマンド: eslint → biome lint
- [削除] format コマンド（biome lint に統合）

提案する更新:
1. hooks.json の lint コマンドを更新
2. test-generator エージェントを追加
3. /test コマンドを追加

既存設定で保持:
- CLAUDE.md のカスタム説明文
- /deploy コマンド（ユーザー定義）

適用しますか？ [y/n/選択]
```

## 注意事項

- 更新前に既存設定のバックアップを推奨
- 差分レビューを必ず行い、意図しない変更がないか確認すること
- カスタマイズ保持に不安がある場合は、選択的に適用可能
